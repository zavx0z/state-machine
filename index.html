<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>state machine</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="" />
    <script src="https://zavx0z.github.io/dev-tools/index.js" type="module"></script>
    <script type="module">
      await new Promise((res) => import("https://zavx0z.github.io/dev-tools/index.js").then(() => setTimeout(res, 200)))
      await import("./main.js")

      const machine = document.querySelector("state-machine")
      const unsubscribe = machine.subscribe((state, event) => {
        switch (event.type) {
          case "machine.init":
            machine.send({ type: "turn.on" })
            break
          default:
            break
        }
        console.log(state, event)
      })
    </script>
    <dev-tools mobile></dev-tools>
  </head>
  <body>
    <p>state machine</p>
    <state-machine src="machine.scxml"></state-machine>
  </body>
</html>
